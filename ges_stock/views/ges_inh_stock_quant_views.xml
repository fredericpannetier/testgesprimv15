<?xml version="1.0" encoding='UTF-8'?>
<odoo>
    <record id="ges_view_stock_quant_tree" model="ir.ui.view">
        <field name="name">ges.stock.quant.tree</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.view_stock_quant_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='quantity']" position="before">
            	<field name="ges_pack" string="Packages"/>
            	<field name="ges_piece" string="Pieces"/>
            	<field name="ges_nweight"/>
            </xpath>
        </field>
    </record>
        <record id="ges_view_stock_quant_tree_editable" model="ir.ui.view">
        <field name="name">ges.stock.quant.tree.editable</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.view_stock_quant_tree_editable"/>
        <field name="arch" type="xml">
            <!-- <xpath expr="//tree" position="attributes">
                <attribute name="editable"/>
                <attribute name="create"/>
                <attribute name="edit"/>
            </xpath> -->
            <xpath expr="//field[@name='inventory_quantity']" position="after">
            	<field name="ges_pack" string="Packages"/>
            	<field name="ges_piece" string="Pieces"/>
            	<field name="ges_nweight"/>
            </xpath>
        </field>
    </record>
    
     <record id="ges_view_stock_quant_form" model="ir.ui.view">
        <field name="name">ges.stock.quant.form</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.view_stock_quant_form"/>
        <field name="arch" type="xml">
            <xpath expr="//label[@for='quantity']" position="before">
            	<field name="ges_pack" string="Packages"/>
            	<field name="ges_piece" string="Pieces"/>
            	<field name="ges_nweight"/>
            </xpath>
        </field>
    </record>
    
    <record id="ges_quant_search_view" model="ir.ui.view">
        <field name="name">ges.stock.quant.search</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.quant_search_view"/>        
        <field name="arch" type="xml">
            <xpath expr="//filter[@name='internal_loc']" position="before">            
                <filter name='loss_loc' string="Loss Location"/>
            </xpath>            
        </field>
    </record>
    <!-- domain="[('id', 'in', context.get('product_ids', []))] -->
        <record id="ges_view_stock_quant_form_editable" model="ir.ui.view">
        <field name="name">ges.stock.quant.form.editable</field>
        <field name="model">stock.quant</field>
        <field name="inherit_id" ref="stock.view_stock_quant_form_editable"/>
        <field name="arch" type="xml">
            <xpath expr="//label[@for='inventory_quantity']" position="before">
            	<field name="ges_pack" string="Packages"/>
            	<field name="ges_piece" string="Pieces"/>
            	<field name="ges_nweight"/>
            </xpath>
        </field>
    </record>
    <record model="ir.actions.server" id="ges_action_view_quants"> <!-- Menu + python -->
        <field name="name">Inventory</field>
        <field name="model_id" ref="model_stock_quant"/>
        <field name="state">code</field>
        <field name="groups_id" eval="[(4, ref('stock.group_stock_user'))]"/>
        <field name="code">
            action = model.with_context(                
                search_default_internal_loc=1,
                search_default_productgroup=1,                
            ).action_view_quants()
        </field>
    </record>
    
    <record model="ir.actions.server" id="ges_action_view_loss"> 
        <field name="name">Loss</field>
        <field name="model_id" ref="model_stock_quant"/>
        <field name="state">code</field>
        <field name="groups_id" eval="[(4, ref('stock.group_stock_user'))]"/>
        <field name="code">
            action = model.with_context(
                loss_id=int(model.env['ir.config_parameter'].sudo().get_param('ges_base.ges_loss_location')),               
                search_default_productgroup=1,                
            ).action_view_quants()
        </field>
    </record>
    <record model="ir.actions.server" id="ges_action_view_dest"> 
        <field name="name">Destructions</field>
        <field name="model_id" ref="model_stock_quant"/>
        <field name="state">code</field>
        <field name="groups_id" eval="[(4, ref('stock.group_stock_user'))]"/>
        <field name="code">
            action = model.with_context(
                dest_id=int(model.env['ir.config_parameter'].sudo().get_param('ges_base.ges_dest_location')),               
                search_default_productgroup=1,                
            ).action_view_quants()
        </field>
    </record>
</odoo>
